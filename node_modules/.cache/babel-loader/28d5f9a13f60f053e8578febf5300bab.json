{"ast":null,"code":"import _slicedToArray from\"D:/REACTJS/learning-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Pagination from\"../Pagination/Pagination\";import CarouselItem from\"../CarouselItem/CarouselItem\";// eslint-disable-next-line\nimport db from\"../../FirebaseConfig\";import{fetchNewSong,selectSongData,setPage,selectSongPage}from\"../../../../Redux/Song/songSlice\";import{useDispatch,useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CarouselSongNew(){var dispatch=useDispatch();var song=useSelector(selectSongData);// const [song, setSongs] = useState([]);\nvar currentPage=useSelector(selectSongPage);var _useState=useState(5),_useState2=_slicedToArray(_useState,1),postPerPage=_useState2[0];useEffect(// eslint-disable-next-line react-hooks/exhaustive-deps\nfunction(){// db.collection(\"His\")\n//   .get()\n//   .then((snapshot) => {\n//     setSongs(snapshot.docs.map(e => e.data()))\n//   });\ndispatch(fetchNewSong());},[dispatch]);if(song.length===0)return null;var indexOfLastPost=currentPage*postPerPage;var indexOfFirstPost=indexOfLastPost-postPerPage;var currentPost=song[0].list.slice(indexOfFirstPost,indexOfLastPost);//set page\nvar paginate=function paginate(page){return dispatch(setPage(page));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"CarouselTitle\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"CarouselText\",children:song[0].title}),/*#__PURE__*/_jsx(Pagination,{postPerPage:postPerPage,totalPost:song[0].list.length,paginate:paginate,currentPage:currentPage})]}),/*#__PURE__*/_jsx(\"div\",{className:\"Carousel\",children:currentPost.map(function(item,i){return/*#__PURE__*/_jsx(CarouselItem,{item:item},i);})})]});}export default CarouselSongNew;","map":{"version":3,"sources":["D:/REACTJS/learning-react/src/ZingMP3/HomePage/Atoms/CarouselSongNew/CarouselSongNew.js"],"names":["React","useEffect","useState","Pagination","CarouselItem","db","fetchNewSong","selectSongData","setPage","selectSongPage","useDispatch","useSelector","CarouselSongNew","dispatch","song","currentPage","postPerPage","length","indexOfLastPost","indexOfFirstPost","currentPost","list","slice","paginate","page","title","map","item","i"],"mappings":"gJAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,8BAAzB,CACA;AACA,MAAOC,CAAAA,EAAP,KAAe,sBAAf,CACA,OACEC,YADF,CAEEC,cAFF,CAGEC,OAHF,CAIEC,cAJF,KAKO,kCALP,CAMA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,C,6IAEA,QAASC,CAAAA,eAAT,EAA2B,CACzB,GAAMC,CAAAA,QAAQ,CAAGH,WAAW,EAA5B,CACA,GAAMI,CAAAA,IAAI,CAAGH,WAAW,CAACJ,cAAD,CAAxB,CACA;AACA,GAAMQ,CAAAA,WAAW,CAAGJ,WAAW,CAACF,cAAD,CAA/B,CACA,cAAsBP,QAAQ,CAAC,CAAD,CAA9B,wCAAOc,WAAP,eACAf,SAAS,CACP;AACA,UAAM,CACJ;AACA;AACA;AACA;AACA;AACAY,QAAQ,CAACP,YAAY,EAAb,CAAR,CACD,CATM,CAUP,CAACO,QAAD,CAVO,CAAT,CAYA,GAAIC,IAAI,CAACG,MAAL,GAAgB,CAApB,CAAuB,MAAO,KAAP,CACvB,GAAMC,CAAAA,eAAe,CAAGH,WAAW,CAAGC,WAAtC,CACA,GAAMG,CAAAA,gBAAgB,CAAGD,eAAe,CAAGF,WAA3C,CACA,GAAMI,CAAAA,WAAW,CAAGN,IAAI,CAAC,CAAD,CAAJ,CAAQO,IAAR,CAAaC,KAAb,CAAmBH,gBAAnB,CAAqCD,eAArC,CAApB,CAEA;AACA,GAAMK,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,IAAD,QAAUX,CAAAA,QAAQ,CAACL,OAAO,CAACgB,IAAD,CAAR,CAAlB,EAAjB,CACA,mBACE,wCACE,aAAK,SAAS,CAAC,eAAf,wBACE,UAAG,SAAS,CAAC,cAAb,UAA6BV,IAAI,CAAC,CAAD,CAAJ,CAAQW,KAArC,EADF,cAEE,KAAC,UAAD,EACE,WAAW,CAAET,WADf,CAEE,SAAS,CAAEF,IAAI,CAAC,CAAD,CAAJ,CAAQO,IAAR,CAAaJ,MAF1B,CAGE,QAAQ,CAAEM,QAHZ,CAIE,WAAW,CAAER,WAJf,EAFF,GADF,cAUE,YAAK,SAAS,CAAC,UAAf,UACGK,WAAW,CAACM,GAAZ,CAAgB,SAACC,IAAD,CAAOC,CAAP,qBACf,KAAC,YAAD,EAAsB,IAAI,CAAED,IAA5B,EAAmBC,CAAnB,CADe,EAAhB,CADH,EAVF,GADF,CAkBD,CACD,cAAehB,CAAAA,eAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Pagination from \"../Pagination/Pagination\";\r\nimport CarouselItem from \"../CarouselItem/CarouselItem\";\r\n// eslint-disable-next-line\r\nimport db from \"../../FirebaseConfig\";\r\nimport {\r\n  fetchNewSong,\r\n  selectSongData,\r\n  setPage,\r\n  selectSongPage,\r\n} from \"../../../../Redux/Song/songSlice\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nfunction CarouselSongNew() {\r\n  const dispatch = useDispatch();\r\n  const song = useSelector(selectSongData);\r\n  // const [song, setSongs] = useState([]);\r\n  const currentPage = useSelector(selectSongPage);\r\n  const [postPerPage] = useState(5);\r\n  useEffect(\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    () => {\r\n      // db.collection(\"His\")\r\n      //   .get()\r\n      //   .then((snapshot) => {\r\n      //     setSongs(snapshot.docs.map(e => e.data()))\r\n      //   });\r\n      dispatch(fetchNewSong());\r\n    },\r\n    [dispatch]\r\n  );\r\n  if (song.length === 0) return null;\r\n  const indexOfLastPost = currentPage * postPerPage;\r\n  const indexOfFirstPost = indexOfLastPost - postPerPage;\r\n  const currentPost = song[0].list.slice(indexOfFirstPost, indexOfLastPost);\r\n\r\n  //set page\r\n  const paginate = (page) => dispatch(setPage(page));\r\n  return (\r\n    <>\r\n      <div className=\"CarouselTitle\">\r\n        <p className=\"CarouselText\">{song[0].title}</p>\r\n        <Pagination\r\n          postPerPage={postPerPage}\r\n          totalPost={song[0].list.length}\r\n          paginate={paginate}\r\n          currentPage={currentPage}\r\n        />\r\n      </div>\r\n      <div className=\"Carousel\">\r\n        {currentPost.map((item, i) => (\r\n          <CarouselItem key={i} item={item} />\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default CarouselSongNew;\r\n"]},"metadata":{},"sourceType":"module"}